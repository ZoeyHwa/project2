<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Gallery</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1><i class="fas fa-leaf"></i> Photo Gallery</h1>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Controls -->
            <div class="controls-area">
                <button id="createButton" class="action-btn primary-btn">
                    <i class="fas fa-cloud-upload-alt"></i>
                    Upload Photo
                </button>
                <button id="refreshButton" class="action-btn secondary-btn">
                    <i class="fas fa-redo"></i>
                    Refresh
                </button>
            </div>

            <!-- Status -->
            <div id="statusArea" class="status-container">
                <div id="readyStatus" class="status status-loading">
                    <i class="fas fa-spinner fa-spin"></i>
                    Loading photos...
                </div>
                <div id="notReadyStatus" class="status status-error" style="display: none;">
                    <i class="fas fa-exclamation-circle"></i>
                    Connection error
                </div>
            </div>

            <!-- Photos Grid -->
            <div id="contentArea" class="photos-grid">
                <!-- Photos will load here -->
            </div>

            <!-- Empty State -->
            <div id="noPhotos" class="empty-state" style="display: none;">
                <div class="empty-content">
                    <i class="fas fa-feather-alt"></i>
                    <h3>Gallery is Empty</h3>
                    <p>Upload your first photo to begin your journey</p>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <p>Photo Gallery &copy; <span id="year"></span> • Beauty in Imperfection</p>
            </div>
        </footer>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-content">
                <!-- Header -->
                <div class="modal-header">
                    <h2 id="modalTitle">
                        <i class="fas fa-cloud-upload-alt"></i>
                        Upload Photo
                    </h2>
                    <button class="modal-close" id="closeModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Body -->
                <div class="modal-body">
                    <form id="photoForm">
                        <input type="hidden" id="photoId" name="id">
                        
                        <!-- Title -->
                        <div class="form-field">
                            <label for="title">
                                <i class="fas fa-heading"></i>
                                Title *
                            </label>
                            <input type="text" id="title" name="title" required 
                                   placeholder="Enter photo title">
                        </div>

                        <!-- Description -->
                        <div class="form-field">
                            <label for="description">
                                <i class="fas fa-align-left"></i>
                                Description
                            </label>
                            <textarea id="description" name="description" 
                                      placeholder="Write your story..."></textarea>
                        </div>

                        <!-- Date -->
                        <div class="form-field">
                            <label for="dateTaken">
                                <i class="fas fa-calendar-alt"></i>
                                Date Taken
                            </label>
                            <input type="date" id="dateTaken" name="dateTaken" lang="en">
                        </div>

                        <!-- Upload -->
                        <div class="form-field">
                            <label>
                                <i class="fas fa-image"></i>
                                Photo
                            </label>
                            <div class="upload-container">
                                <div class="upload-area" id="uploadArea">
                                    <img id="imagePreview" src="" alt="Preview">
                                    <div class="upload-text">
                                        <div class="upload-icon">
                                            <i class="fas fa-cloud-upload-alt"></i>
                                        </div>
                                        <p>Click or drag to upload</p>
                                        <small>Max 10MB • JPG, PNG, WebP</small>
                                    </div>
                                </div>
                                <input type="file" id="fileInput" accept="image/*" style="display: none;">
                                <input type="hidden" id="imageUrl" name="imageUrl">
                                
                                <div class="upload-controls">
                                    <button type="button" id="browseButton" class="secondary-btn small-btn">
                                        Browse Files
                                    </button>
                                    <button type="button" id="removeImageButton" class="danger-btn small-btn" style="display: none;">
                                        Remove
                                    </button>
                                </div>
                                
                                <div id="noticeArea" class="notice-area"></div>
                            </div>
                        </div>

                        <!-- Actions -->
                        <div class="form-actions">
                            <button type="submit" class="primary-btn">
                                <i class="fas fa-save"></i>
                                Save Photo
                            </button>
                            <button type="button" id="cancelButton" class="secondary-btn">
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="upload.js"></script>
    <script src="script.js"></script>
    
    <script>
        // Set current year
        document.getElementById('year').textContent = new Date().getFullYear();
        
        window.API_CONFIG = {
            baseUrl: 'https://project2-tawny-one.vercel.app'
        };
    </script>
</body>
</html>
